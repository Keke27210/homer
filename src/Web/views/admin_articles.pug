<!DOCTYPE html>
html(lang=`${locale}`)
  head
    include modules/head.pug
    link(rel="stylesheet" href="/js/trumbowyg/dist/ui/trumbowyg.min.css")
  body
    include modules/header.pug

    div(class="jumbotron jumbotron-fluid")
      div(class="container text-center")
        if success
          div(class="alert alert-primary alert-dismissible fade show" role="alert")
            if success === 'postedArticle'
              | Article posted successfully!
            else if success === 'editedArticle'
              | Article edited successfully!
            button(type="button" class="close" data-dismiss="alert" aria-label="Close")
              span(aria-hidden="true") &times;

        h1(class="mbr-section-title mbr-bold mbr-fonts-style text-center") ‚úè Write an article
        hr
        form(action="/admin/articles/post" method="POST")
          div(class="form-group")
            label(for="title")
              strong Title
            input(type="text" class="form-control" name="title" id="title")
          br
          div(class="form-group")
            label(for="content" class="text-center")
              strong Content
            textarea(class="form-control text-left" rows="5" name="content" id="content")
          br
          button(type="submit" class="btn btn-success") Post an article
        
    div(class="jumbotron jumbotron-fluid")
      div(class="container text-center")
        h1(class="mbr-section-title mbr-bold mbr-fonts-style text-center") üì∞ Articles
        hr
        each article in articles
          div(class="card")
            div(class="card-body")
              div(class="d-flex justify-content-between w-100")
                p
                  a(href=`/articles/${article.id}` class="nav-link" style="color: inherit;") #{article.title}
                p
                  a(href=`/admin/articles/edit?id=${article.id}` class="btn btn-primary") Edit
                  a(href=`/admin/articles/delete?id=${article.id}` class="btn btn-danger") Delete
        
    include modules/footer.pug

    include modules/javascript.pug
    script(src="/js/trumbowyg/dist/trumbowyg.min.js")
    script(defer) $('#content').trumbowyg();